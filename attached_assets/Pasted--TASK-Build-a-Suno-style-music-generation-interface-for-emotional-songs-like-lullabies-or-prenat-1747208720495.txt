// [TASK] Build a Suno-style music generation interface for emotional songs like lullabies or prenatal messages.

1. ğŸ“Œ Purpose:
Create a mini-app where users (mainly mothers) can generate personalized songs (e.g., lullabies, prenatal music, letters to baby) using the Replicate AI API. UI/UX must mimic Sunoâ€™s interface.

2. ğŸ“ UI Layout (React component structure):

- Top Section:
  [Simple | Custom] mode toggle (default: Simple)

- Main Form:
  - Prompt input (textarea, default: empty)
  - Style tag selector (e.g., â€œnurseryâ€, â€œsoft pianoâ€, â€œmotherlyâ€)
  - [Instrumental only] toggle switch
  - Create button

- Custom Mode (optional):
  - Lyrics input (multi-line textarea)
  - "Write Lyrics" button â†’ call GPT API (OpenAI)

- Results Area:
  - Show generated audio player (React audio component)
  - Optional: "Extend", "Download", "Publish" buttons

3. ğŸ”Œ Backend Tasks (Node.js + Express):

- [POST] /api/song/create
  Input:
    {
      prompt: string,       // example: "a lullaby from a mom to her baby"
      tags: string[],       // optional music styles
      lyrics: string,       // optional, for custom lyrics
      instrumental: boolean
    }

  Processing:
    - Use Replicate API (e.g. lucataco/ai-song-generator or riffusion/riffusion)
    - Translate Korean to English using OpenAI GPT-4 if needed
    - Send prompt and tags to Replicate model
    - Return audio URL or base64 stream

4. ğŸ” Security & Guardrails:

- Use .env for:
  - REPLICATE_API_TOKEN
  - OPENAI_API_KEY
- Limit style tags to a verified list (avoid prompt injection)
- Show error message if generation fails:
  â†’ "ìŒì•… ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."

5. âœ… Final Output:

- Audio player preview + download
- Optional: Save metadata to Firebase (userId, prompt, result URL)

6. ğŸ“¦ Notes:

- Style UI and tag input similar to [https://suno.com](https://suno.com)
- Support mobile-first responsive layout (TailwindCSS)
- Support Korean â†’ English prompt translation via GPT before passing to Replicate

// â›³ Goal: Build fast and stable â€” avoid delays like in gpt-image-1 integration
