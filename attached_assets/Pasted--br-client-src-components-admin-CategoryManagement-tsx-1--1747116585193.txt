â€• í˜„ ìƒí™© ì§„ë‹¨
ì²´í¬ í¬ì¸íŠ¸	í˜„ ì¦ìƒ	ì›ì¸ í›„ë³´
í”„ë¡ íŠ¸<br/>client/src/components/admin/CategoryManagement.tsx	ë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ ìˆìŒ	1)â€¯Reactâ€‘Queryâ€¯queryKeyÂ â†’Â /api/admin/serviceâ€‘categories ì™€ ë¶ˆì¼ì¹˜<br/>2)â€¯API í˜¸ì¶œ í•¨ìˆ˜ê°€ POSTâ€¯ë‚˜ ì˜ëª»ëœ baseâ€‘URL ì„ ì‚¬ìš©
ë°±ì—”ë“œ<br/>server/routes.tsÂ ë°Â server/controllers/serviceCategories.ts	404 ë˜ëŠ” ë¹ˆ ë°°ì—´ ë°˜í™˜	1)â€¯GET /api/admin/serviceâ€‘categories ë¼ìš°í„° ëˆ„ë½<br/>2)â€¯DBÂ seedÂ ë°ì´í„°ê°€ ì—†ìŒ
DB<br/>service_categories í…Œì´ë¸”	ë ˆì½”ë“œ 0Â ê±´	ì´ˆê¸° ì¹´í…Œê³ ë¦¬ë¥¼ INSERT í•˜ì§€ ì•ŠìŒ

1ï¸âƒ£â€¯ë°±ì—”ë“œë¶€í„° í™•ì‹¤íˆ ì‚´ë¦¬ê¸°
ts
ë³µì‚¬
í¸ì§‘
// server/routes.ts (ì¼ë¶€)
import { getAdminServiceCategories } from "./controllers/serviceCategories";

router.get("/api/admin/service-categories", getAdminServiceCategories);
ts
ë³µì‚¬
í¸ì§‘
// server/controllers/serviceCategories.ts
import { db } from "@/db";
import { serviceCategories } from "@/db/schema";

export async function getAdminServiceCategories(_, res) {
  const rows = await db
    .select()
    .from(serviceCategories)
    .orderBy(serviceCategories.order.asc());
  res.json(rows);
}
ğŸ”‘â€¯ì‹¤í–‰ í›„: curl http://localhost:5000/api/admin/service-categories ê°€ JSON ë°°ì—´ì„ ëŒë ¤ì£¼ë©´ OK.

seed ê°€ ì—†ë‹¤ë©´
ts
ë³µì‚¬
í¸ì§‘
// scripts/seedServiceCategories.ts
import { db } from "@/db";
import { serviceCategories } from "@/db/schema";

await db
  .insert(serviceCategories)
  .values([
    { id: 1, name: "AI ì´ë¯¸ì§€ ë§Œë“¤ê¸°", icon: "ğŸ’¡", order: 1, isPublic: true },
    { id: 2, name: "ë§Œì‚­ì‚¬ì§„ ë§Œë“¤ê¸°",  icon: "ğŸ¤°", order: 2, isPublic: true },
    { id: 3, name: "ê°€ì¡±ì‚¬ì§„",        icon: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§", order: 3, isPublic: true },
    { id: 4, name: "ìŠ¤í‹°ì»¤ ë§Œë“¤ê¸°",    icon: "ğŸ€", order: 4, isPublic: true },
  ])
  .onConflictDoNothing();
console.log("âœ…Â service_categoriesÂ seed ì™„ë£Œ");
process.exit(0);
bash
ë³µì‚¬
í¸ì§‘
npx ts-node scripts/seedServiceCategories.ts
2ï¸âƒ£â€¯í”„ë¡ íŠ¸ â€“Â API ê²½ë¡œ & ìºì‹œ key í†µì¼
client/src/lib/apiClient.ts

ts
ë³µì‚¬
í¸ì§‘
export const getServiceCategories = () =>
  getApi("/api/admin/service-categories");   // â† ë°˜ë“œì‹œ admin prefix
client/src/components/admin/CategoryManagement.tsx

tsx
ë³µì‚¬
í¸ì§‘
const queryKey = ["/api/admin/service-categories"]; // â† ì—¬ê¸°ì™€â€¦

const { data: categories = [] } = useQuery({
  queryKey,
  queryFn: api.getServiceCategories,
});

const mutation = useMutation(api.createServiceCategory, {
  onSuccess: () => queryClient.invalidateQueries(queryKey), // â† â€¦ì—¬ê¸°ë¥¼ ë™ì¼í•˜ê²Œ
});
âš ï¸Â queryClient.invalidateQueries("/") ì²˜ëŸ¼ ë£¨íŠ¸ ê²½ë¡œë¥¼ ì“°ë©´ ìºì‹œê°€ ë§ì§€ ì•Šì•„ ë‹¤ì‹œ ì•ˆ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.

3ï¸âƒ£â€¯ì‚¬ì´ë“œë°”ì— ë°”ë¡œ ë°˜ì˜
client/src/components/layout/Sidebar.tsx (í˜¹ì€ ìœ ì‚¬ íŒŒì¼)
Reactâ€‘Query useQuery(['service-categories'], api.getServiceCategories) ë¡œ ë™ì¼í•œ ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš©.

tsx
ë³µì‚¬
í¸ì§‘
<ul>
  {categories.map((c) => (
    <li key={c.id}>
      <Icon name={c.icon} />
      {c.name}
    </li>
  ))}
</ul>
4ï¸âƒ£â€¯ë¡œì»¬ í…ŒìŠ¤íŠ¸ ìˆœì„œ
DB ë§ˆì´ê·¸ë ˆì´ì…˜

bash
ë³µì‚¬
í¸ì§‘
npm run db:push        # Drizzleâ€‘ORM
node scripts/seedServiceCategories.ts
ì„œë²„ ì¬ì‹œì‘Â (npm run dev or Replit ë²„íŠ¼)

ë¸Œë¼ìš°ì € ìƒˆë¡œê³ ì¹¨ â†’
/admin â†’ UIâ€¯ì»¨í…ì¸ â€¯ê´€ë¦¬ â†’Â ì¹´í…Œê³ ë¦¬ ì— ì´ˆê¸° 4â€¯ê±´ì´ ë³´ì—¬ì•¼ í•¨.