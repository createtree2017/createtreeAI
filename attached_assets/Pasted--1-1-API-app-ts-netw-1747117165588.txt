ğŸ•µï¸â€¯ë¹ ë¥´ê²Œ â€œì™œ ì•„ì§ë„ ë¹ˆ í™”ë©´ì¸ê°€?â€â€¯ì²´í¬â€‘ë¦¬ìŠ¤íŠ¸
ì²´í¬	ê°€ì¥ í”í•œ ì›ì¸	1ë¶„â€‘í…ŒìŠ¤íŠ¸ ë°©ë²•	ì˜ˆìƒâ€¯ê²°ê³¼
1	API ê²½ë¡œ ë¯¸ì—°ê²°Â (app.tsì— ë¼ìš°í„° ì•ˆ ë¶™ìŒ)	ë¸Œë¼ìš°ì € network â†’ GET /api/admin/service-categories	404Â ë˜ëŠ”Â ERRâ€¯â†’Â app.use('/api/admin', adminRouter) ëˆ„ë½
2	ì¿¼ë¦¬ ì„±ê³µ but ë¹ˆ ë°°ì—´	devâ€¯ì½˜ì†”ì—ì„œ fetch('/api/admin/service-categories').then(r=>r.json())	[] â†’ DBì— rowê°€ ì—†ë‹¤
3	401â€¯Unauthorized	ì‘ë‹µ status 401	Nextâ€‘auth/Firebaseâ€¯ì„¸ì…˜ ì•ˆ ë¶™ìŒ; devëª¨ë“œ ì¿ í‚¤ sameSite ì„¤ì • í™•ì¸
4	Reactâ€‘Query ìºì‹œ key ë¶ˆì¼ì¹˜	Network ì‘ë‹µ 200ì¸ë° í™”ë©´ì€ ì—†ìŒ	queryKeyâ€¯['/api/service-categories'] ì™€ invalidateQueries key ë‹¬ë¼ cache stale

1ï¸âƒ£â€¯APIÂ ë¼ìš°í„° ì—°ê²° ë¨¼ì € í™•ì¸
ts
ë³µì‚¬
í¸ì§‘
// server/index.ts  (or app.ts)
import adminRouter from './routes/admin';

app.use('/api/admin', adminRouter);   // â† ì´ ì¤„ í•„ìˆ˜
curl http://localhost:5000/api/admin/service-categories ê°€ 200 JSON ì¸ì§€ ì¦‰ì‹œ í™•ì¸í•˜ì„¸ìš”.

2ï¸âƒ£â€¯DBÂ ì— ì§„ì§œ ë°ì´í„°ê°€ ìˆë‚˜?
bash
ë³µì‚¬
í¸ì§‘
# Replit console
psql $DATABASE_URL -c "select * from service_categories;"
â†’ 0â€¯row ë©´ í™”ë©´ì— ì•„ë¬´ê²ƒë„ ëª» ë¿Œë¦½ë‹ˆë‹¤.
seedÂ ìŠ¤í¬ë¦½íŠ¸ (ì•„ë˜) í•œ ë²ˆë§Œ ëŒë¦¬ì„¸ìš”.

ts
ë³µì‚¬
í¸ì§‘
// scripts/seedServiceCategories.ts
import { db } from "@/db";
import { serviceCategories } from "@/db/schema";

await db.insert(serviceCategories).values([
  { id: 1, name: "AI ì´ë¯¸ì§€ ë§Œë“¤ê¸°", icon: "ğŸ’¡", order: 1, isPublic: true },
  { id: 2, name: "ë§Œì‚­ì‚¬ì§„ ë§Œë“¤ê¸°",  icon: "ğŸ¤°", order: 2, isPublic: true },
  { id: 3, name: "ê°€ì¡±ì‚¬ì§„",        icon: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§", order: 3, isPublic: true },
  { id: 4, name: "ìŠ¤í‹°ì»¤ ë§Œë“¤ê¸°",    icon: "ğŸ€", order: 4, isPublic: true },
]).onConflictDoNothing();
console.log('âœ… seed ì™„ë£Œ'); process.exit(0);
bash
ë³µì‚¬
í¸ì§‘
npx ts-node scripts/seedServiceCategories.ts
3ï¸âƒ£â€¯í”„ë¡ íŠ¸ ìª½ Key & fetcher í†µì¼
tsx
ë³µì‚¬
í¸ì§‘
// client/src/lib/api.ts
export const getServiceCategories = () =>
  apiClient.get('/api/admin/service-categories').then(r => r.data);

// client/src/components/admin/CategoryManagement.tsx
const queryKey = ['admin-service-categories'];

const { data = [] } = useQuery({ queryKey, queryFn: api.getServiceCategories });

const mutation = useMutation(api.createServiceCategory, {
  onSuccess: () => queryClient.invalidateQueries(queryKey),
});
4ï¸âƒ£â€¯ì„¸ì…˜ ì¿ í‚¤ ë¬¸ì œë©´?
Replit preview íƒ­ì€ subâ€‘domain ì´ ë‹¤ë¦…ë‹ˆë‹¤ â†’ sameSite: 'none', secure: true ë¡œ ì¿ í‚¤ ì„¤ì •

devÂ ëª¨ë“œì¼ ë• credentials: 'include' ë¡œ fetch